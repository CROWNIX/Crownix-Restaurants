(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{15:function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){var t="function"==typeof Map?new Map:void 0;return(a=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return c(e,arguments,l(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),s(r,e)})(e)}function c(e,t,n){return(c=u()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&s(o,n.prototype),o}).apply(null,arguments)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(d,e);var t,n,a,c,f,p=(t=d,n=u(),function(){var e,r=l(t);if(n){var o=l(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return i(this,e)});function d(){return r(this,d),p.apply(this,arguments)}return a=d,(c=[{key:"connectedCallback",value:function(){this.render()}},{key:"render",value:function(){this.innerHTML='\n      <div class="navbar">\n        <div class="navbar__menu">\n          <button id="hamburgerButton">\n            <strong><i class="material-icons">menu</i></strong>\n          </button>\n        </div>\n        <div class="navbar__brand">\n          <strong>\n            <p class="navbar__brand-text">Crown</p>\n          </strong>\n        </div>\n        <nav id="navigationDrawer" class="navbar__navigation">\n          <ul>\n            <li><a href="#/">Home</a></li>\n            <li><a href="#/favorite">Favourite</a></li>\n            <li><a href="https://github.com/CROWNIX">About</a></li>\n          </ul>\n        </nav>\n      </div>\n    '}}])&&o(a.prototype,c),f&&o(a,f),d}(a(HTMLElement));customElements.define("nav-bar",f)},16:function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){var t="function"==typeof Map?new Map:void 0;return(a=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return c(e,arguments,l(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),s(r,e)})(e)}function c(e,t,n){return(c=u()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&s(o,n.prototype),o}).apply(null,arguments)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(d,e);var t,n,a,c,f,p=(t=d,n=u(),function(){var e,r=l(t);if(n){var o=l(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return i(this,e)});function d(){return r(this,d),p.apply(this,arguments)}return a=d,(c=[{key:"connectedCallback",value:function(){this.render()}},{key:"render",value:function(){this.innerHTML="\n      <p>Copyright &copy; 2022 - Crownix Restaurants</p>\n    "}}])&&o(a.prototype,c),f&&o(a,f),d}(a(HTMLElement));customElements.define("foot-bar",f)},17:function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){var t="function"==typeof Map?new Map:void 0;return(a=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return c(e,arguments,l(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),s(r,e)})(e)}function c(e,t,n){return(c=u()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&s(o,n.prototype),o}).apply(null,arguments)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(d,e);var t,n,a,c,f,p=(t=d,n=u(),function(){var e,r=l(t);if(n){var o=l(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return i(this,e)});function d(){return r(this,d),p.apply(this,arguments)}return a=d,(c=[{key:"connectedCallback",value:function(){this.render()}},{key:"render",value:function(){this.innerHTML='\n      <a href="#mainContent" class="skip-link">Skip to content</a>\n    '}}])&&o(a.prototype,c),f&&o(a,f),d}(a(HTMLElement));customElements.define("skip-link",f)},18:function(e,t,n){"use strict";n.r(t);n(5),n(3),n(6),n(7),n(9),n(11),n(13),n(15),n(16),n(17);var r={BASE_URL:"https://restaurant-api.dicoding.dev",BASE_IMAGE_URL:"https://restaurant-api.dicoding.dev/images/large",DATABASE_NAME:"restaurant-database",DATABASE_VERSION:1,OBJECT_STORE_NAME:"restaurants"};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){var t="function"==typeof Map?new Map:void 0;return(u=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return s(e,arguments,p(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),f(r,e)})(e)}function s(e,t,n){return(s=l()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&f(o,n.prototype),o}).apply(null,arguments)}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(v,e);var t,n,o,u,s,d=(t=v,n=l(),function(){var e,r=p(t);if(n){var o=p(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return c(this,e)});function v(){return i(this,v),d.apply(this,arguments)}return o=v,(u=[{key:"render",value:function(){var e=this._restaurant.description;this.innerHTML='\n      <div class="wrapper__heros">\n        <img class="heros__detail" src="'.concat(r.BASE_IMAGE_URL,"/").concat(this._restaurant.pictureId,'" alt="').concat(this._restaurant.name,'">\n      </div>\n      <div class="wrapper__detail__page">\n        <div class="box__title">\n          <div class="box__detail__title">\n            <p><span class="title__detail">').concat(this._restaurant.name,"</span><br>").concat(this._restaurant.address,", ").concat(this._restaurant.city,'</p>\n            <div class="card__rating">\n              <i class="material-icons star">star</i>\n              <i class="material-icons star">star</i>\n              <i class="material-icons star">star</i>\n              <i class="material-icons star">star</i>\n              <i class="material-icons star">star</i>\n              <span>').concat(this._restaurant.rating,'</span>\n            </div>\n          </div>\n          <div class="box__favorite__detail">\n            <div class="box__favorite__color"></div>\n          </div>\n          \x3c!-- <div class="box__rating__detail"> --\x3e\n          \x3c!-- <div class="box__rating__detail__color"> --\x3e\n          \x3c!-- <p>&#9733; ').concat(this._restaurant.rating,'</p> --\x3e\n          \x3c!-- </div> --\x3e\n          \x3c!-- </div> --\x3e\n        </div>\n        <div class="box__description__detail description__detail">\n          <p>').concat(e,'</p>\n        </div>\n        <div class="box__menus">\n          <p class="menus__title">Food Menu</p>\n          <ul class="menus foods"></ul>\n        </div>\n        <div class="box__menus">\n          <p class="menus__title">Drink Menu</p>\n          <ul class="menus drinks"></ul>\n        </div>\n      </div>\n      <div class="wrapper__customerReviews">\n        <p>Reviews</p>\n        <ul class="reviews"></ul>\n      </div>\n      <div class="wrapper__customerReviews">\n        <p>Please rate this restaurant</p>\n        <form class="formReview" id="formReview">\n        <div class="inputBox">\n          <input type="text" class="inputName" required id="name">\n          <span>Name</span>\n        </div>\n        <div class="inputBox">\n          <input type="text" class="inputReview" required id="review">\n          <span>Review</span>\n        </div>\n          <button type="submit" class="reviewButton" id="reviewButton"><span>Send</span><i></i></button>\n        </form>\n      </div>\n    ')}},{key:"restaurant",set:function(e){this._restaurant=e,this.render()}}])&&a(o.prototype,u),s&&a(o,s),v}(u(HTMLElement));customElements.define("content-detail",d);var v={init:function(e){var t=this,n=e.button,r=e.drawer,o=e.content;n.addEventListener("click",(function(e){t._toggleDrawer(e,r)})),o.addEventListener("click",(function(e){t._closeDrawer(e,r)}))},_toggleDrawer:function(e,t){e.stopPropagation(),t.classList.toggle("open")},_closeDrawer:function(e,t){e.stopPropagation(),t.classList.remove("open")}},h={parseActiveUrlWithCombiner:function(){var e=window.location.hash.slice(1).toLowerCase(),t=this._urlSplitter(e);return this._urlCombiner(t)},parseActiveUrlWithoutCombiner:function(){var e=window.location.hash.slice(1).toLowerCase();return this._urlSplitter(e)},_urlSplitter:function(e){var t=e.split("/");return{resource:t[1]||null,id:t[2]||null,verb:t[3]||null}},_urlCombiner:function(e){return(e.resource?"/".concat(e.resource):"/")+(e.id?"/:id":"")+(e.verb?"/".concat(e.verb):"")}},y={LIST_RESTAURANT:"".concat(r.BASE_URL,"/list"),DETAIL:function(e){return"".concat(r.BASE_URL,"/detail/").concat(e)},REVIEW:"".concat(r.BASE_URL,"/review")};function m(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){m(i,r,o,a,c,"next",e)}function c(e){m(i,r,o,a,c,"throw",e)}a(void 0)}))}}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var w=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,i,a;return t=e,n=null,r=[{key:"listRestaurant",value:(a=b(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(y.LIST_RESTAURANT);case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,r=n.restaurants,e.abrupt("return",r);case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),function(){return a.apply(this,arguments)})},{key:"detailRestaurant",value:(i=b(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(y.DETAIL(t));case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,o=r.restaurant,e.abrupt("return",o);case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),function(e){return i.apply(this,arguments)})},{key:"postReview",value:(o=b(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(y.REVIEW,{method:"POST",headers:{"Content-Type":"application/json"},body:t});case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),function(e){return o.apply(this,arguments)})}],n&&_(t.prototype,n),r&&_(t,r),e}(),g=function(e){var t=e.city,n=e.pictureId,o=e.name,i=e.rating,a=e.id,c=e.description;return c.length>98&&(c=c.substring(0,98)),'\n  <div class="card">\n        <a href="#" class="card__city">'.concat(t,'</a>\n        <img class="lazyload card__image" src="./images/skeleton/placeholder.png" data-src="').concat(r.BASE_IMAGE_URL,"/").concat(n,'" alt="').concat(e.name,'">\n        <div class="card__body">\n            <h2 class="card__title">').concat(o,'</h2>\n            <div class="card__rating">\n              <i class="material-icons star">star</i>\n              <i class="material-icons star">star</i>\n              <i class="material-icons star">star</i>\n              <i class="material-icons star">star</i>\n              <i class="material-icons star">star</i>\n              <span>').concat(i,"</span>\n            </div>\n            <p>").concat(c,'...</p>\n            <a href="',"/#/restaurant/".concat(a),'" class="card__detail">Detail</a>\n        </div>\n    </div>\n ')},R=function(e){var t=document.createElement("content-detail");return t.restaurant=e,t};function x(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function k(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){x(i,r,o,a,c,"next",e)}function c(e){x(i,r,o,a,c,"throw",e)}a(void 0)}))}}var S={render:function(){return k(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",'\n    <picture class="heros heros-list">\n        <source media="(max-width: 600px)" srcset="./images/heros-build/hero-image_4-small.jpg">\n        <img src=\'./images/heros-build/hero-image_4-large.jpg\' \n             alt="hero image">\n    </picture>\n    <p class="restaurant__name">Crownix <span>Restaurants</span></p>\n\n    <div class="content" id="content">\n      <section class="search" id="search">\n        <div class="search__title">\n            <h2>List Restaurants</h2>\n        </div>\n        <div>\n            <input class="search-input" type="search" placeholder="Search..." id="searchInput" />\n        </div>\n      </section>\n      <section class="cards">\n      </section>\n      <div class="loader"></div>\n    </div>\n    ');case 1:case"end":return e.stop()}}),e)})))()},afterRender:function(){return k(regeneratorRuntime.mark((function e(){var t,n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.listRestaurant();case 2:t=e.sent,n=document.querySelector(".cards"),r=document.querySelector(".loader");try{o="",t.forEach((function(e){o+=g(e)})),r.style.display="none",n.innerHTML=o}catch(e){r.style.display="none",alert("Please check your internet connection"),n.innerHTML='\n  <div class="not-found">\n    <h1 class="not-found__title">404</h1>\n    <p class="not-found__message">Please check your internet connection</p>\n  </div>\n'}case 6:case"end":return e.stop()}}),e)})))()}},E=n(4);function O(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function P(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){O(i,r,o,a,c,"next",e)}function c(e){O(i,r,o,a,c,"throw",e)}a(void 0)}))}}var T=r.DATABASE_NAME,L=r.DATABASE_VERSION,j=r.OBJECT_STORE_NAME,A=Object(E.a)(T,L,{upgrade:function(e){e.createObjectStore(j,{keyPath:"id"})}}),C={getRestaurant:function(e){return P(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,A;case 4:return t.abrupt("return",t.sent.get(j,e));case 5:case"end":return t.stop()}}),t)})))()},getAllRestaurant:function(){return P(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A;case 2:return e.abrupt("return",e.sent.getAll(j));case 3:case"end":return e.stop()}}),e)})))()},putRestaurant:function(e){return P(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.hasOwnProperty("id")){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,A;case 4:return t.abrupt("return",t.sent.put(j,e));case 5:case"end":return t.stop()}}),t)})))()},deleteRestaurant:function(e){return P(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A;case 2:return t.abrupt("return",t.sent.delete(j,e));case 3:case"end":return t.stop()}}),t)})))()}};function M(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function B(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){M(i,r,o,a,c,"next",e)}function c(e){M(i,r,o,a,c,"throw",e)}a(void 0)}))}}function D(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function q(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){D(i,r,o,a,c,"next",e)}function c(e){D(i,r,o,a,c,"throw",e)}a(void 0)}))}}var H={init:function(e){var t=this;return q(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.likeButtonContainer,o=e.restaurant,t._likeButtonContainer=r,t._restaurant=o,n.next=5,t._renderButton();case 5:case"end":return n.stop()}}),n)})))()},_renderButton:function(){var e=this;return q(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e._restaurant.id,t.next=3,e._isRestaurantExist(n);case 3:if(!t.sent){t.next=7;break}e._renderLike(),t.next=8;break;case 7:e._renderUnlike();case 8:case"end":return t.stop()}}),t)})))()},_isRestaurantExist:function(e){return q(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.getRestaurant(e);case 2:return n=t.sent,t.abrupt("return",!!n);case 4:case"end":return t.stop()}}),t)})))()},_renderUnlike:function(){var e=this;this._likeButtonContainer.innerHTML='\n  <button aria-label="like this restaurant" id="likeButton">\n    <i class="material-icons">favorite_border</i>\n  </button>\n',document.querySelector("#likeButton").addEventListener("click",q(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.putRestaurant(e._restaurant);case 2:e._renderButton();case 3:case"end":return t.stop()}}),t)}))))},_renderLike:function(){var e=this;this._likeButtonContainer.innerHTML='\n  <button aria-label="unlike this restaurant" id="likeButton">\n    <i class="material-icons">favorite</i>\n  </button>\n',document.querySelector("#likeButton").addEventListener("click",q(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.deleteRestaurant(e._restaurant.id);case 2:e._renderButton();case 3:case"end":return t.stop()}}),t)}))))}};function I(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function U(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){I(i,r,o,a,c,"next",e)}function c(e){I(i,r,o,a,c,"throw",e)}a(void 0)}))}}var N={"/":S,"/favorite":{render:function(){return B(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",'\n      <img class="heros heros-favorite" src="./images/heros/hero-image_2.jpg" alt="">\n      <p class="favourite__restaurant">Favorite <span>Restaurant</span></p>\n\n      <div id="favoriteContent">\n        <div class="loader"></div>\n      </div>\n    ');case 1:case"end":return e.stop()}}),e)})))()},afterRender:function(){return B(regeneratorRuntime.mark((function e(){var t,n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.getAllRestaurant();case 2:t=e.sent,n=document.querySelector("#favoriteContent"),r=document.querySelector(".loader"),t.length?(o="",t.forEach((function(e){o+=g(e)})),r.style.display="none",n.innerHTML=o):(r.style.display="none",n.innerHTML='\n  <a href="#/" aria-label="find a restaurant now">\n    <div class="empty__favorite">\n      <i class="material-icons">add</i>\n      <p>add your favorite restaurant</p>\n    </div>\n  </a>\n');case 6:case"end":return e.stop()}}),e)})))()}},"/restaurant/:id":{render:function(){return U(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",'\n      <div id="contentDetail"></div>\n    ');case 1:case"end":return e.stop()}}),e)})))()},afterRender:function(){var e=this;return U(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=h.parseActiveUrlWithoutCombiner(),t.next=4,w.detailRestaurant(n.id);case 4:r=t.sent,document.querySelector("#contentDetail").appendChild(R(r)),H.init({likeButtonContainer:document.querySelector(".box__favorite__color"),restaurant:{id:r.id,name:r.name,rating:r.rating,city:r.city,description:r.description,pictureId:r.pictureId}}),e.renderContentRestaurant(r),e.renderRateRestaurant(n),t.next=18;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0),alert("Please check your internet connection"),document.querySelector("#contentDetail").innerHTML='\n  <div class="not-found">\n    <h1 class="not-found__title">404</h1>\n    <p class="not-found__message">Please check your internet connection</p>\n  </div>\n';case 18:case"end":return t.stop()}}),t,null,[[0,12]])})))()},renderContentRestaurant:function(e){document.querySelector(".foods").innerHTML=function(e){var t="";return e.menus.foods.forEach((function(e){t+='<li class="box__menu"><p>'.concat(e.name,"</p></li>")})),t}(e),document.querySelector(".drinks").innerHTML=function(e){var t="";return e.menus.drinks.forEach((function(e){t+='<li class="box__menu"><p>'.concat(e.name,"</p></li>")})),t}(e),document.querySelector(".reviews").innerHTML=function(e){var t="";return e.customerReviews.forEach((function(e){t+='\n    <li class="box__review">\n      <div class="box__review__header">\n        <p><b>'.concat(e.name,'</b></p>\n        <p class="review__date">').concat(e.date,'</p>\n      </div>\n      <div class="box__review__body">\n        <p>').concat(e.review,"</p>\n      </div>\n    </li>\n  ")})),t}(e)},renderRateRestaurant:function(e){var t=document.querySelector("#name"),n=document.querySelector("#review");document.querySelector("#formReview").addEventListener("submit",U(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!confirm("are you sure you want to post a review?")){r.next=5;break}return o={id:e.id,name:t.value,review:n.value},r.next=5,w.postReview(JSON.stringify(o));case 5:case"end":return r.stop()}}),r)}))))}}};function F(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var J=function(){"serviceWorker"in navigator?navigator.serviceWorker.register("sw.js").then((function(e){console.log("Sw registered: ".concat(e))})).catch((function(e){console.log("RegistrationError: ".concat(e))})):console.log("Service worker not supported in this browser")},V=new(function(){function e(t){var n=t.button,r=t.drawer,o=t.content;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._button=n,this._drawer=r,this._content=o,this._initialAppShell()}var t,n,r,o,i;return t=e,(n=[{key:"_initialAppShell",value:function(){v.init({button:this._button,drawer:this._drawer,content:this._content})}},{key:"renderPage",value:(o=regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.parseActiveUrlWithCombiner(),n=N[t],e.next=4,n.render();case 4:return this._content.innerHTML=e.sent,e.next=7,n.afterRender();case 7:document.querySelector(".skip-link").addEventListener("click",(function(e){e.preventDefault(),document.querySelector("#mainContent").focus()}));case 9:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=o.apply(e,t);function a(e){F(i,n,r,a,c,"next",e)}function c(e){F(i,n,r,a,c,"throw",e)}a(void 0)}))},function(){return i.apply(this,arguments)})}])&&W(t.prototype,n),r&&W(t,r),e}())({button:document.querySelector("#hamburgerButton"),drawer:document.querySelector("#navigationDrawer"),content:document.querySelector("main")});window.addEventListener("hashchange",(function(){V.renderPage()})),window.addEventListener("load",(function(){V.renderPage(),J()}))}}]);